<!-- public/application-letter.html -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Job Confirmation</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), #e0f7fa, #fff);
        padding: 2rem;
        margin: 0;
      }
      .glass-card {
        max-width: 600px;
        margin: auto;
        padding: 2rem;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 15px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      }
      .text-center {
        text-align: center;
      }
      .role-buttons-2col {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
      }
      .role-btn {
        padding: 10px 20px;
        font-size: 14px;
        cursor: pointer;
        border: none;
        background-color: #0288d1;
        color: white;
        border-radius: 8px;
      }
      .letter {
        margin-top: 20px;
        background: #f9f9f9;
        padding: 1rem;
        border-radius: 8px;
        border-left: 4px solid #0288d1;
      }
    </style>
  </head>
  <body>
    <div class="glass-card">
      <h2 class="text-center">üéâ Application Submitted</h2>
      <div class="info-box">
        This is a fixed price job. No bargaining is allowed. Below is your proof letter.
      </div>

      <div class="letter">
        <p><strong>Date:</strong> <span id="currentDate"></span></p>
        <p><strong>To:</strong> <span id="providerName"></span> (Job Provider)</p>
        <p><strong>From:</strong> <span id="seekerName"></span> (Job Seeker)</p>

        <p>Dear <span id="providerName2"></span>,</p>
        <p>
          I, <strong><span id="seekerName3"></span></strong>, am applying for the part-time job titled <strong>‚Äú<span id="jobTitle"></span>‚Äù</strong>. I agree to the fixed payment of <strong>‚Çπ<span id="jobPayment"></span></strong> for the entire task, without any scope for negotiation or bargaining.
        </p>
        <p>
          This letter acts as an official confirmation of acceptance. Upon successful completion of the task, I expect timely payment.
        </p>
        <p>Thank you for the opportunity.</p>

        <p>
          Regards,<br>
          <strong><span id="seekerName4"></span></strong><br>
          Phone: <span id="seekerPhone"></span><br>
          Location: <span id="seekerLocation"></span>
        </p>
      </div>

      <div class="role-buttons-2col">
        <button class="role-btn" onclick="window.close()">‚Üê Close</button>
        <button class="role-btn" onclick="window.print()">üñ® Print Proof</button>
      </div>
    </div>

    <script>
      document.addEventListener("mousemove", function (e) {
        const x = (e.clientX / window.innerWidth) * 100;
        const y = (e.clientY / window.innerHeight) * 100;
        document.body.style.setProperty('--x', `${x}%`);
        document.body.style.setProperty('--y', `${y}%`);
      });

      const seeker = JSON.parse(localStorage.getItem('user'));
      const jobDetails = JSON.parse(localStorage.getItem('selectedJob'));

      const currentDate = new Date().toLocaleDateString('en-IN', {
        day: 'numeric', month: 'long', year: 'numeric'
      });

      document.getElementById('currentDate').textContent = currentDate;
      document.getElementById('seekerName').textContent = seeker?.name || 'Your Name';
      document.getElementById('seekerName3').textContent = seeker?.name || 'Your Name';
      document.getElementById('seekerName4').textContent = seeker?.name || 'Your Name';
      document.getElementById('seekerPhone').textContent = seeker?.phone || 'Your Phone';
      document.getElementById('seekerLocation').textContent = seeker?.location || 'Your Location';

      document.getElementById('providerName').textContent = jobDetails?.providerName || 'Job Provider';
      document.getElementById('providerName2').textContent = jobDetails?.providerName || 'Job Provider';
      document.getElementById('jobTitle').textContent = jobDetails?.title || 'Job Title';
      document.getElementById('jobPayment').textContent = jobDetails?.payment || 'N/A';
    </script>
  </body>
</html>
